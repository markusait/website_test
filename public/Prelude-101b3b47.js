!function(){"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var t={authentication:{necessary:!0},"fraud-prevention":{necessary:!0},security:{necessary:!0},functionality:{necessary:!0},preferences:{necessary:!1,token:"p"},statistics:{necessary:!1,token:"s"},advertising:{necessary:!1,token:"a"}},i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,i,r){return new(i||(i=Promise))((function(o,s){function n(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}c((r=r.apply(e,t||[])).next())}))}function n(e,t){var i,r,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,r=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!((o=(o=n.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(6===s[0]&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],r=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(e,t,i){if(i||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var c,m=function(e,t,i){return function(e,t){var i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(r){function o(){}function s(t,i,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},o.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var n=JSON.stringify(i);/^[\{\[]/.test(n)&&(i=n)}catch(e){}i=r.write?r.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=t+"="+i+a}}function n(e,i){if("undefined"!=typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],n=0;n<s.length;n++){var a=s[n].split("="),c=a.slice(1).join("=");i||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var m=t(a[0]);if(c=(r.read||r)(c,m)||t(c),i)try{c=JSON.parse(c)}catch(e){}if(o[m]=c,e===m)break}catch(e){}}return e?o[e]:o}}return o.set=s,o.get=function(e){return n(e,!1)},o.getJSON=function(e){return n(e,!0)},o.remove=function(t,i){s(t,"",e(i,{expires:-1}))},o.defaults={},o.withConverter=i,o}((function(){}))},e.exports=i()}(i={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}(),l=function(){try{return!!window}catch(e){return!1}}()&&"object"==typeof window&&"object"==typeof document&&9===document.nodeType,p=function(e,t){return e===t||0!==t.length&&"."===t[0]&&(t===".".concat(e)||e.length>t.length&&e.endsWith(t))},u=function(e){return!!(e.match(/(\.)?link.co/i)||e.match("mkt-mydev.dev.stripe.me")&&e.match("host=link")||e.match("-mkt.tunnel.stripe.me")&&e.match("host=link")||e.match(/mkt(\.qa)?\.corp\.stripe\.com/i)&&e.match("host=link")||e.match("link_app-mydev.dev.stripe.me")||e.match("link_support_site-mydev.dev.stripe.com"))},d=l&&(c=window.location.hostname,["stripe.com","stripe.dev","stripe.global","increment.com","link.co"].some((function(e){var t="(^|.)".concat(e.replace(/\./g,"\\."),"$");return new RegExp(t).test(c)}))),h=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];d||console.warn.apply(console,a([e],t,!1))},f=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];d||console.error.apply(console,a([e],t,!1))},g=function(e,t){void 0===t&&(t=l?window.location.href:"");var i=function(e){return void 0===e&&(e=l?window.location.href:""),u(e)?"https://link.co":"https://stripe.com"}(t)+e;if(!l||!window.URL||!window.URLSearchParams)return i;var r=new URL(t),o=new URL(i);if(r.hostname.match(".dev.stripe.me")){var s=r.hostname.split(".",1)[0],n=void 0;return s.split("--",1)[0]!==s?(n=s.split("--",1)[0],n+="-"):n=s.split("-",1)[0],o.hostname="".concat(n,"-mkt-mydev.dev.stripe.me"),i.includes("link.co")&&(o.search=new URLSearchParams({$host:"link"}).toString()),o.toString()}return r.hostname.match(/(^|\.)qa\.stripe\.com$/)?i.replace("stripe.com","qa.stripe.com"):r.hostname.match(/(^|\.)qa\.link\.co$/)?i.replace("link.co","qa.link.co"):r.hostname.match(/mkt(\.qa)?\.corp\.stripe\.com/i)||r.hostname.match("-mkt.tunnel.stripe.me")?(o.hostname=r.hostname,i.includes("link.co")&&(o.search=new URLSearchParams({$host:"link"}).toString()),o.toString()):o.toString()},y=["https://c.stripe.dev/cookie","https://c.stripe.global/cookie","https://c.increment.com/cookie"],v=Object.keys(t),k=function(){function e(e,t){this._timestamp=e,this._permissions=t}return Object.defineProperty(e.prototype,"timestamp",{get:function(){return this._timestamp},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._permissions[e]},e.prototype.getAll=function(){return o({},this._permissions)},e.prototype.toString=function(){var e=this,i=v.reduce((function(i,r){var o=t[r];return o&&!o.necessary&&e._permissions[r]?a(a([],i,!0),[o.token],!1):i}),[]).sort(),r=Math.floor(this.timestamp.valueOf()/1e3);return"".concat("1",":").concat(r,"|").concat(i.join(""))},e.deserialize=function(i){var r=i.split(":",2);r[0];var o=r[1].split("|"),s=new Date(1e3*Number(o[0])),n=o[1].split("");return new e(s,v.reduce((function(e,i){var r=t[i];return r.necessary?e[i]=!0:r.token&&(e[i]=n.indexOf(r.token)>=0),e}),{}))},e.get=function(){try{var t=m.get("cookie-perms");if(t)return e.deserialize(t)}catch(t){}return null},e.set=function(t){return s(this,void 0,void 0,(function(){var i,r,o=this;return n(this,(function(c){switch(c.label){case 0:return i=function(e){return s(o,void 0,void 0,(function(){var i;return n(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fetch(e,{method:"post",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"cookies"}})];case 1:return[2,r.sent()];case 2:return(i=r.sent())instanceof Error?f(i.message):f("Unexpected error",i),[3,3];case 3:return[2]}}))}))},r=g("/cookie-settings/update"),u(r)?[4,i(r)]:[3,2];case 1:return c.sent(),[3,4];case 2:return[4,Promise.all(a([r],y,!0).map(i))];case 3:c.sent(),c.label=4;case 4:return[2,e.get()]}}))}))},e.allowAll=function(){return s(this,void 0,void 0,(function(){var i;return n(this,(function(r){return i=v.reduce((function(e,i){return t[i].necessary||(e[i]=!0),e}),{}),[2,e.set(i)]}))}))},e.rejectAll=function(){return s(this,void 0,void 0,(function(){var i;return n(this,(function(r){return i=v.reduce((function(e,i){return t[i].necessary||(e[i]=!1),e}),{}),[2,e.set(i)]}))}))},e}(),_=function(){function e(e){this._getPermissions=e,this._callbacks=[]}return e.prototype.addCallback=function(e){this._callbacks.indexOf(e)>=0?f("PermissionsWatcher.addCallback() was called for a function that was already registered with the PermissionsWatcher."):(this._callbacks.push(e),this._interval||this._pollForPermissionsChanges())},e.prototype.removeCallback=function(e){var t=this._callbacks.indexOf(e);t<0?f("PermissionsWatcher.removeCallback() was called for a function that wasn't registered with the PermissionsWatcher."):(this._callbacks.splice(t,1),this._interval&&0===this._callbacks.length&&(clearInterval(this._interval),this._interval=null))},e.prototype._pollForPermissionsChanges=function(){var e=this,t=this._getPermissions();this._interval=setInterval((function(){var i=e._getPermissions();if(null!==i){var r=null===t&&null!==i,o=t&&i&&t.timestamp!==i.timestamp;(r||o)&&e._callbacks.forEach((function(e){return e(i)})),t=i}}),100)},e}(),x=null,S=function(){function e(e){this._watcher=new _((function(){return k.get()})),e.enforcementMode&&(this._enforcementModePromise=Promise.resolve(e.enforcementMode))}return e.prototype.getEnforcementMode=function(){return s(this,void 0,void 0,(function(){return n(this,(function(e){return this._enforcementModePromise||(this._enforcementModePromise=(x||(x=Promise.race([s(void 0,void 0,void 0,(function(){var e,t;return n(this,(function(i){switch(i.label){case 0:e="restricted",i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(g("/cookie-settings/enforcement-mode"))];case 2:return[4,i.sent().json()];case 3:return"restricted"!==(t=i.sent().mode)&&"open"!==t||(e=t),[3,5];case 4:return i.sent(),[3,5];case 5:return[2,e]}}))})),new Promise((function(e){setTimeout((function(){return e("restricted")}),1e3)}))])),x)),[2,this._enforcementModePromise]}))}))},e.prototype.getPermissions=function(){return k.get()},e.prototype.setPermissions=function(e){return s(this,void 0,void 0,(function(){return n(this,(function(t){return[2,k.set(e)]}))}))},e.prototype.allowAll=function(){return s(this,void 0,void 0,(function(){return n(this,(function(e){return[2,k.allowAll()]}))}))},e.prototype.rejectAll=function(){return s(this,void 0,void 0,(function(){return n(this,(function(e){return[2,k.rejectAll()]}))}))},e.prototype.isCategoryAllowed=function(e){return s(this,void 0,void 0,(function(){var i;return n(this,(function(r){switch(r.label){case 0:return i=k.get(),t[e].necessary?[2,!0]:i?[2,!!i.get(e)]:[4,this.getEnforcementMode()];case 1:return[2,"restricted"!==r.sent()]}}))}))},e.prototype.areCategoriesAllowed=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(this,void 0,void 0,(function(){var t,i,r;return n(this,(function(o){switch(o.label){case 0:t=0,i=e,o.label=1;case 1:return t<i.length?(r=i[t],[4,this.isCategoryAllowed(r)]):[3,4];case 2:if(!o.sent())return[2,!1];o.label=3;case 3:return t++,[3,1];case 4:return[2,!0]}}))}))},e.prototype.shouldShowBanner=function(){return s(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return this.getPermissions()?[2,!1]:[4,this.getEnforcementMode()];case 1:return[2,"restricted"===e.sent()]}}))}))},e.prototype.watchPermissions=function(e){this._watcher.addCallback(e)},e.prototype.unwatchPermissions=function(e){this._watcher.removeCallback(e)},e}(),b=function(){function e(e,t){this.name=e,this.category=t.category,this.lifetime=t.lifetime,this.domains=t.domains,this.secure=!(!1===t.secure),this.httpOnly=!(!1===t.httpOnly),this.sameSite=t.sameSite||"Lax",this.name.indexOf("*")>=0?(this.inexact=!0,this._regexp=new RegExp(e.replace("*",".+"))):this.inexact=!1}return e.prototype.isMatch=function(e){return this.name===e||this._regexp&&this._regexp.test(e)},e.prototype.resolveDomain=function(e,t){var i=[];this.domains&&(i=this.domains.map((function(e){return t[e]||e})));var r=e;if(!r&&l&&(r=document.location.host),r&&r.match("dev.stripe.me"))return".dev.stripe.me";if(r&&!i.some((function(e){return p(r,e)})))throw new Error("The ".concat(this.name," cookie is not allowed to be set on the ").concat(r," domain."));return r||i[0]},e.prototype.resolveExpiry=function(e){if("forever"!==this.lifetime){if("session"!==this.lifetime){var t=this.lifetime||0;if(e){if(t<e)throw new Error("The ".concat(this.name," cookie has a maximum lifetime of ").concat(this.lifetime," seconds."));t=e}return new Date(Date.now()+1e3*t)}if(e)throw new Error("The ".concat(this.name," cookie cannot have a lifetime, because it is a session cookie."))}},e}(),O={__stripe_mid:{category:"fraud-prevention",domains:[".checkout.stripe.com","request"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},__stripe_orig_props:{category:"statistics",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!0,sameSite:"Lax"},__stripe_sid:{category:"fraud-prevention",domains:[".checkout.stripe.com","request"],lifetime:1800,secure:!0,httpOnly:!1,sameSite:"Lax"},_fbp:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:7862400,secure:!0,httpOnly:!1,sameSite:"Lax"},_forum_session:{category:"authentication",domains:[".discuss.stripe.community"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},_ga:{category:"advertising",domains:[".stripe.com",".stripe.events",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"_ga*":{category:"statistics",domains:[".stripe.com",".stripe.events",".go.stripe.global",".link.co"],lifetime:5184e3,secure:!0,httpOnly:!1,sameSite:"Lax"},_gat:{category:"statistics",domains:[".stripe.com",".stripe.events",".go.stripe.global"],lifetime:60,secure:!0,httpOnly:!1,sameSite:"Lax"},_gat_stripe_com:{category:"statistics",domains:[".stripe.com",".stripe.events",".go.stripe.global"],lifetime:60,secure:!0,httpOnly:!1,sameSite:"Lax"},"_gat_UA-12675062-5":{category:"statistics",domains:[".stripe.com"],lifetime:60,secure:!0,httpOnly:!1,sameSite:"Lax"},"_gat_UA-12675062-14":{category:"statistics",domains:[".link.co"],lifetime:60,secure:!0,httpOnly:!1,sameSite:"Lax"},"_gac_gb_G-SEKFWD1C9J":{category:"advertising",domains:[".stripe.com",".go.stripe.global"],lifetime:5184e3,secure:!0,httpOnly:!1,sameSite:"Lax"},_gcl_au:{category:"advertising",domains:[".go.stripe.global"],lifetime:7862400,secure:!0,httpOnly:!1,sameSite:"Lax"},_gid:{category:"statistics",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global",".link.co"],lifetime:86400,secure:!0,httpOnly:!1,sameSite:"Lax"},_GRECAPTCHA:{category:"fraud-prevention",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!0,sameSite:"Lax"},_guid:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:86400,secure:!0,httpOnly:!1,sameSite:"Lax"},_mkto_trk:{category:"advertising",domains:[".stripecdn.com",".stripe.com",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},_t:{category:"authentication",domains:[".discuss.stripe.community"],lifetime:5270400,secure:!0,httpOnly:!0,sameSite:"Lax"},aam_uuid:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:2592e3,secure:!0,httpOnly:!1,sameSite:"Lax"},act_token:{category:"security",domains:["dashboard.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},"allow-unsupported-browser":{category:"preferences",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},"AMCV_*":{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},AnalyticsSyncHistory:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:2592e3,secure:!0,httpOnly:!1,sameSite:"Lax"},anonymous_overrides:{category:"statistics",domains:[".stripe.com"],lifetime:1209600,secure:!0,httpOnly:!0,sameSite:"Lax"},ark_in_cad_opt_out:{category:"preferences",domains:[".stripe.com"],lifetime:604800,secure:!0,httpOnly:!1,sameSite:"Lax"},art_token:{category:"security",domains:["dashboard.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},atlas_invite:{category:"statistics",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},bcookie:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},c_user:{category:"advertising",domains:[".clearbit.com",".facebook.com",".go.stripe.global",".stripe.com",".stripe.events"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},cbt_token:{category:"security",domains:["dashboard.stripe.com","connect.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},cct_token:{category:"security",domains:["dashboard.stripe.com","connect.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},eid:{category:"statistics",domains:[".checkout.stripe.com"],lifetime:5270400,secure:!0,httpOnly:!1,sameSite:"Lax"},cid:{category:"statistics",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},"__Host-cliauth_token":{category:"authentication",domains:["dashboard.stripe.com"],lifetime:180,secure:!0,httpOnly:!1,sameSite:"Strict"},"color-scheme":{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},connect_locale:{category:"functionality",domains:[".connect.stripe.com",".express.stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},"cookie-perms":{category:"functionality",domains:[".stripe.com",".stripe.dev",".go.stripe.global",".increment.com",".link.co"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},country:{category:"functionality",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},csv:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},datr:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},disable_cmd_f_override:{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},"docs.prefs":{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},double_cmd_f_uses:{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},dpr:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:604800,secure:!0,httpOnly:!1,sameSite:"Lax"},edgebucket:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:39484800,secure:!0,httpOnly:!1,sameSite:"Lax"},ev:{category:"statistics",domains:[".stripe.com"],lifetime:5270400,secure:!0,httpOnly:!1,sameSite:"Lax"},"expanded-topics":{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},fr:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:7862400,secure:!0,httpOnly:!1,sameSite:"Lax"},gh_src:{category:"statistics",domains:[".stripe.com"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},GPS:{category:"advertising",domains:[".youtube.com"],lifetime:1800,secure:!0,httpOnly:!0,sameSite:"Lax"},handoff:{category:"security",domains:[".stripe.com"],lifetime:9e4,secure:!0,httpOnly:!0,sameSite:"Lax"},has_intentionally_selected_curl:{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},IDE:{category:"advertising",domains:[".doubleclick.net"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},invite:{category:"advertising",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!0,sameSite:"Lax"},lang:{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},lc_token:{category:"security",domains:["dashboard.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},_ldbrbid:{category:"advertising",domains:[".line.me",".stripe.com",".go.stripe.global"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},li_oatml:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:2592e3,secure:!0,httpOnly:!1,sameSite:"Lax"},li_sugr:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:7862400,secure:!0,httpOnly:!1,sameSite:"Lax"},liap:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},lidc:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global",".stripe.events"],lifetime:86400,secure:!0,httpOnly:!1,sameSite:"Lax"},lissc:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},locale:{category:"functionality",domains:[".link.co",".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},loid:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},lsession:{category:"authentication",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!0,sameSite:"Lax"},m:{category:"fraud-prevention",domains:[".m.stripe.com"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-tz":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-ans_frontend_early_version":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-s":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-b_strict":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-b_lax":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-uid":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:57888e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"m-b":{category:"advertising",domains:[".stripe.com",".go.stripe.global",".stripe.events"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},machine_identifier:{category:"fraud-prevention",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!0,sameSite:"Lax"},merchant:{category:"statistics",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"None"},over18:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:47347200,secure:!0,httpOnly:!1,sameSite:"Lax"},pay_sid:{category:"authentication",domains:[".link.co",".checkout.stripe.com",".edge-checkout.stripe.com",".link.corp.stripe.com",".link.qa.corp.stripe.com",".link-support-site.corp.stripe.com",".link-support-site.qa.corp.stripe.com"],lifetime:7776e3,secure:!0,httpOnly:!1,sameSite:"Lax"},private_machine_identifier:{category:"fraud-prevention",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!0,sameSite:"None"},prt_token:{category:"security",domains:["dashboard.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},"recent-views":{category:"preferences",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},recent_srs:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"saml_sca_success_for_*":{category:"authentication",domains:["dashboard.stripe.com"],lifetime:30,secure:!0,httpOnly:!0,sameSite:"Lax"},samlit_email:{category:"authentication",domains:["dashboard.stripe.com"],lifetime:960,secure:!0,httpOnly:!0,sameSite:"Lax"},samlit_token:{category:"authentication",domains:["dashboard.stripe.com"],lifetime:960,secure:!0,httpOnly:!0,sameSite:"Lax"},sb:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},sca_migration_not_started_alert_actioned:{category:"preferences",domains:[".stripe.com"],lifetime:604800,secure:!0,httpOnly:!0,sameSite:"Lax"},scfc:{category:"functionality",domains:[".stripe.com"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},sdsc:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},session:{category:"security",domains:[".stripe.com"],lifetime:7776e3,secure:!0,httpOnly:!0,sameSite:"None"},session_tracker:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},token_v2:{category:"advertising",domains:[".reddit.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!0,sameSite:"Lax"},"__Host-session":{category:"security",domains:["support.stripe.com","support-conversations.stripe.com","stripe.com","dashboard.stripe.com","connect.stripe.com","express.stripe.com","marketplace.stripe.com","dashboard-admin.stripe.com","site-admin.stripe.com","support-admin.corp.stripe.com","manage.stripe.com","billing.stripe.com","pay.stripe.com"],lifetime:7776e3,secure:!0,httpOnly:!0,sameSite:"None"},"__Host-auth_token":{category:"authentication",domains:["dashboard.stripe.com"],lifetime:7776e3,secure:!0,httpOnly:!0,sameSite:"Lax"},"__Host-stripe.link_app.csrf":{category:"security",domains:["app.link.co","link.corp.stripe.com","link.qa.corp.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},site_sid:{category:"statistics",domains:[".stripe.com"],lifetime:7200,secure:!0,httpOnly:!1,sameSite:"Lax"},"site-auth":{category:"functionality",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},skip_mismatched_country_check:{category:"preferences",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},skip_tfa_interrupt:{category:"preferences",domains:[".stripe.com"],lifetime:2592e3,secure:!0,httpOnly:!1,sameSite:"Lax"},spin:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:63072e3,secure:!0,httpOnly:!1,sameSite:"Lax"},spl:{category:"advertising",domains:[".stripe.events"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},"stripe.csrf":{category:"security",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"None"},"stripe.appmarketplace.csrf":{category:"security",domains:["marketplace.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"stripe.climate.csrf":{category:"security",domains:["climate.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"stripe.customerportal.csrf":{category:"security",domains:["billing.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"stripe.docs.csrf":{category:"security",domains:["stripe.com","site-admin.stripe.com","qa-site-admin.stripe.com","docs.corp.stripe.com","docs.qa.corp.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"stripe.idprod.csrf":{category:"security",domains:["verify.stripe.com","qa-verify.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"None"},svt_token:{category:"security",domains:["dashboard.stripe.com","connect.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},U:{category:"advertising",domains:[".adsymptotic.com",".stripe.com",".go.stripe.global"],lifetime:7862400,secure:!0,httpOnly:!1,sameSite:"Lax"},UserMatchHistory:{category:"advertising",domains:[".stripe.com",".linkedin.com",".ads.linkedin.com",".go.stripe.global"],lifetime:2592e3,secure:!0,httpOnly:!1,sameSite:"Lax"},user:{category:"statistics",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},VISITOR_INFO1_LIVE:{category:"advertising",domains:[".youtube.com"],lifetime:15811200,secure:!0,httpOnly:!0,sameSite:"Lax"},wd:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:604800,secure:!0,httpOnly:!1,sameSite:"Lax"},xs:{category:"advertising",domains:[".facebook.com",".stripe.com",".stripe.events",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},XA:{category:"advertising",domains:[".yahoo.co.jp",".go.stripe.global"],lifetime:31536e3,secure:!0,httpOnly:!1,sameSite:"Lax"},XB:{category:"advertising",domains:[".yahoo.co.jp",".go.stripe.global"],lifetime:52617600,secure:!0,httpOnly:!1,sameSite:"Lax"},ndcd:{category:"fraud-prevention",domains:[".acs.touch.tech",".idcheck.acs.touchtechpayments.com",".verifiedbyvisa.acs.touchtechpayments.com"],lifetime:31536e3,secure:!0,httpOnly:!0,sameSite:"Lax"},YSC:{category:"advertising",domains:[".youtube.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Lax"},"stripe.delegated-authentication.csrf":{category:"security",domains:["delegated-authentication.stripe.com","oneclickauthn.qa.corp.stripe.com","oneclickauthn.corp.stripe.com"],lifetime:1800,secure:!0,httpOnly:!0,sameSite:"Strict"},payment_methods_settings_platform:{category:"preferences",domains:[".stripe.com"],lifetime:15811200,secure:!0,httpOnly:!1,sameSite:"Lax"},"__Host-stripe.link_support_site.csrf":{category:"security",domains:["support.link.co","link-support-site.corp.stripe.com","link-support-site.qa.corp.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"__Host-stripe.sources_redirect_site.csrf":{category:"security",domains:["hooks.stripe.com","hooks.qa.corp.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},saml_login_result:{category:"functionality",domains:[".stripe.com"],lifetime:"session",secure:!0,httpOnly:!1,sameSite:"Lax"},"__Host-saml_auth_result":{category:"functionality",domains:["dashboard.stripe.com"],lifetime:60,secure:!0,httpOnly:!1,sameSite:"Lax"},"__Host-stripe.support_site.csrf":{category:"security",domains:["support.stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"__Host-unauthenticated_support_identity":{category:"authentication",domains:["support.stripe.com","support.link.co","support-conversations.stripe.com","support-conversations.link.co"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"__Host-stripe.site.csrf":{category:"security",domains:["stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"},"__Host-stripe.mkt.csrf":{category:"security",domains:["stripe.com"],lifetime:"session",secure:!0,httpOnly:!0,sameSite:"Strict"}},w={},L=a(a([],Object.entries(O),!0),Object.entries(w),!0).map((function(e){var t=e[0],i=e[1];return new b(t,i)})).filter((function(e){return e.inexact})),C=function(e){if(O[e])return new b(e,O[e]);if(w[e])return new b(e,w[e]);for(var t=0,i=L;t<i.length;t++){var r=i[t];if(r.isMatch(e))return r}return null},E={decodeValues:!0,map:!1,silent:!1};function I(e){return"string"==typeof e&&!!e.trim()}var A=null,P=function(e){if(!l)return f("You cannot patch document.cookie if you aren't in a browser."),!1;if(A||(A=Object.getOwnPropertyDescriptor(Document.prototype,"cookie")),!A||!A.get||!A.set)return!1;var t=A.get,i=A.set;return Object.defineProperty(document,"cookie",{configurable:!0,get:function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.apply(this,e)},set:function(t){if(!t||0===t.length)return i.apply(this,[t]);var r=function(e,t){var i=e.split(";").filter(I),r=i.shift().split("="),o=r.shift(),s=r.join("=");t=t?Object.assign({},E,t):E;try{s=t.decodeValues?decodeURIComponent(s):s}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+s+"'. Set options.decodeValues to false to disable this feature.",e)}var n={name:o,value:s};return i.forEach((function(e){var t=e.split("="),i=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===i?n.expires=new Date(r):"max-age"===i?n.maxAge=parseInt(r,10):"secure"===i?n.secure=!0:"httponly"===i?n.httpOnly=!0:"samesite"===i?n.sameSite=r:n[i]=r})),n}(t),o=r.name,s=r.value,n=r.domain;"true"===r.allowed?i.apply(this,[t]):e.set(o,s,{domain:n})}}),!0},T=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i._domainOverrides=t.domainOverrides||{},i._documentCookiePatched=!1,i}return r(t,e),t.prototype.get=function(e){C(e)||h("No cookie matching the name ".concat(e," was found in the cookies.yaml or cookies-next.yaml manifests. ")+"Reading the value of the cookie will work, but attempting to set the cookie will result in an error. If you're adding a new cookie, please visit go/cookies for more information!");var t=m.get(e);return void 0===t?null:t},t.prototype.set=function(e,t,i){return void 0===i&&(i={}),s(this,void 0,void 0,(function(){var r,o,s,a,c;return n(this,(function(n){switch(n.label){case 0:if(!(r=C(e)))return f("No cookie matching the name ".concat(e," was found in the cookies.yaml or cookies-next.yaml manifests. ")+"If you're adding a new cookie, please visit go/cookies for more information!"),[2,!1];if(r.httpOnly)return f("Cannot set the cookie ".concat(e," via JavaScript, since it is marked HttpOnly. ")+"Please visit go/cookies for more information!"),[2,!1];try{o=r.resolveDomain(i.domain,this._domainOverrides),s=r.resolveExpiry(i.lifetime)}catch(e){return e instanceof Error?f(e.message):f("Unexpected error",e),[2,!1]}return[4,this.isCategoryAllowed(r.category)];case 1:return n.sent()?(l&&!p(window.location.hostname,o)&&h("The cookie ".concat(e," will be set on the domain ").concat(o,", which doesn't match ")+"the current domain (".concat(window.location.hostname,"). This will result in the ")+"cookie being silently ignored by the browser. Please check to ensure the domain(s) for the cookie are correct in cookies[-next].yaml, or visit go/cookies for more information."),a=void 0===i.secure?r.secure:i.secure,c=this._getCookieAttributes({domain:o,expires:s,secure:a,sameSite:r.sameSite}),m.set(e,t,c),[2,!0]):[2,!1]}}))}))},t.prototype.remove=function(e,t){void 0===t&&(t={});var i,r=C(e);if(!r)return f("No cookie matching the name ".concat(e," was found in the cookies.yaml or cookies-next.yaml manifests. ")+"If you're adding a new cookie, please visit go/cookies for more information!"),!1;try{i=r.resolveDomain(t.domain,this._domainOverrides)}catch(e){return e instanceof Error?f(e.message):f("Unexpected error",e),!1}l&&!p(window.location.hostname,i)&&h("The cookie ".concat(e," will be set on the domain ").concat(i,", which doesn't match ")+"the current domain (".concat(window.location.hostname,"). This will result in the ")+"cookie being silently ignored by the browser. Please check to ensure the domain(s) for the cookie are correct in cookies[-next].yaml, or visit go/cookies for more information.");var o=this._getCookieAttributes({domain:i,secure:r.secure,sameSite:r.sameSite});return m.remove(e,o),!0},t.prototype.trapDocumentCookie=function(){this._documentCookiePatched||(this._documentCookiePatched=P(this))},t.prototype.untrapDocumentCookie=function(){this._documentCookiePatched&&(A?Object.defineProperty(document,"cookie",A):f("The document.cookie property has not been patched"),this._documentCookiePatched=!1)},t.prototype._getCookieAttributes=function(e){var t=o({},e);return this._documentCookiePatched&&(t.allowed="true"),t},t}(S),j=function(){function e(e,t){this.name=e,this.category=t.category,this.name.indexOf("*")>=0?(this.inexact=!0,this._regexp=new RegExp(e.replace("*",".+"))):this.inexact=!1}return e.prototype.isMatch=function(e){return this.name===e||this._regexp&&this._regexp.test(e)},e}(),N={"*_dismissed":{category:"preferences"},docs:{category:"functionality"},lsid:{category:"statistics"},imt:{category:"advertising"},personalizations:{category:"statistics"},"twilio_chat_*":{category:"functionality"},"yt-remote-connected-devices":{category:"advertising"},"yt-remote-device-id":{category:"advertising"},"yt.innertube::nextId":{category:"advertising"},"yt.innertube::requests":{category:"advertising"},"link.auth_session_client_secret":{category:"authentication"},apps_oauth_state:{category:"authentication"},request_sign_key:{category:"authentication"}},R=Object.keys(N).reduce((function(e,t){var i=N[t];return e[t]=new j(t,i),e}),{}),q=Object.keys(R).filter((function(e){return R[e].inexact})).map((function(e){return R[e]})),M=function(e){if(R[e])return R[e];for(var t=0,i=q;t<i.length;t++){var r=i[t];if(r.isMatch(e))return r}return null},U=function(e){if(!l)return!1;var t;try{t=window[e];var i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}};(function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}r(t,e),t.prototype.get=function(e){return M(e)||h("No item matching the name ".concat(e," was found in the localStorage.yaml manifest. ")+"Reading the value of the item will work, but attempting to set the item will result in an error. If you're adding a new localStorage item, please visit go/cookies for more information!"),U("localStorage")?localStorage.getItem(e):null},t.prototype.set=function(e,t){return s(this,void 0,void 0,(function(){var i;return n(this,(function(r){switch(r.label){case 0:return(i=M(e))?[4,this.isCategoryAllowed(i.category)]:(f("No item matching the name ".concat(e," was found in the localStorage.yaml manifest. ")+"If you're adding a new item, please visit go/cookies for more information!"),[2,!1]);case 1:return r.sent()&&U("localStorage")?(localStorage.setItem(e,t),[2,!0]):[2,!1]}}))}))},t.prototype.remove=function(e){return M(e)?!!U("localStorage")&&(localStorage.removeItem(e),!0):(f("No item matching the name ".concat(e," was found in the localStorage.yaml manifest. ")+"If you're adding a new item, please visit go/cookies for more information!"),!1)}})(S),g("/cookie-settings"),g("/cookies-policy/legal");class D{constructor(t){e(this,"cookies",void 0),e(this,"name","ev"),e(this,"value",null),this.cookies=t,this.value=this.cookies.get(this.name)}addTreatment(e){const t=this.treatments.filter(t=>t.experimentId!==e.experimentId);t.push(e),this.value=t.map(e=>`${e.experimentId}.${e.variantId}`).join(","),this.setCookie()}setCookie(){this.value&&this.cookies.set(this.name,this.value)}get treatments(){if(!this.value)return[];const e=[];return Array.from(this.value.matchAll(/(?<experimentId>[a-zA-Z0-9-_]+)\.(?<variantId>[a-zA-Z0-9]+)(?=,|$)/gi)).forEach(({groups:t={}})=>{const{experimentId:i="",variantId:r=""}=t;i&&r&&e.push({experimentId:i,variantId:r})}),e}}const B=new class extends class{warn(e,...t){throw new Error("Not implmeneted!")}info(e,...t){throw new Error("Not implmeneted!")}error(e,...t){throw new Error("Not implmeneted!")}table(e,...t){throw new Error("Not implmeneted!")}}{info(){}warn(){}error(){}table(){}};var H;!function(e){e.CONTROL="control",e.VARIANT="variant"}(H||(H={}));const $=window.Experiments||new class{constructor(){e(this,"userBucketing",[]),e(this,"experimentCookie",void 0),e(this,"useTreatment",(e,t)=>{try{const i=this.userBucketing.find(e=>e.experimentId===t),r="0"===(null==i?void 0:i.variantId);if(r)return;const o=e.parentElement;if(!r&&o){const{variantId:e}=i,r=o.querySelectorAll(`[data-experiment-control][data-experiment-id="${t}"]`),s=o.querySelector(`template[data-experiment-variant-id="${e}"][data-experiment-id="${t}"]`);if(!s||"TEMPLATE"!==s.nodeName)throw new Error("Variant template does not exist or is not a Template type, exiting");r.length&&s&&r.forEach(e=>{const t=e.parentElement,i=e.dataset.experimentComponentId,r=s.content.querySelector(`[data-experiment-component-id="${i}"`);if(t&&r){const i=r.cloneNode(!0);t.insertBefore(i,e),e.remove()}})}}catch(e){throw new Error(e.message||"Failed to perform a swap with error")}}),e(this,"getUserBucketing",()=>{const{treatments:e}=this.getServerTiming();return e?e.split(",").reduce((e,t)=>{const[i,r,o]=t.split(".");return e.push({experimentId:i,variantId:r,bucketingStrategy:o}),e},[]):[]}),e(this,"getServerTiming",()=>{const e={};try{if(window.performance&&performance.getEntriesByType){const t=performance.getEntriesByType("navigation");if(t.length>0){const i=t[0];i.serverTiming&&i.serverTiming.forEach(t=>{e[t.name]=t.description})}}}catch(e){B.error("Could not load server timing information for experiments",e)}return e}),this.userBucketing=this.getUserBucketing(),this.experimentCookie=new D(new T)}getExperimentMetadata(e){if(!e)return null;try{var t;const i=null===(t=document.getElementById("experiment-id-"+e))||void 0===t?void 0:t.textContent;if(i&&i.length>0){const t=JSON.parse(i),{experiment_name:r,control:o,variants:s}=t;return{experimentId:e,experimentName:r,treatments:{control:o,variants:s}}}}catch(e){B.error("Could not get Experiment metadata:",e)}return null}getActiveVariant(e,t){return this.isControlActive(e,t)?H.CONTROL:H.VARIANT}isControlActive(e,t){return!(!e||!e.variant_id||e.variant_id!==t)}finishExperimentActivation(e,t){this.userBucketing.forEach(i=>{var r;const{experimentId:o,variantId:s,bucketingStrategy:n}=i,a=this.getExperimentMetadata(o),c=this.getActiveVariant(null==a||null===(r=a.treatments)||void 0===r?void 0:r.control,s);this.wasExperimentConducted(i)?(t.setExperimentTreatment({experimentId:o,bucketingStrategy:n,variantId:s,variantType:c,trackingMetadata:e,experimentMetadata:a}),"weighted"!==n&&"default"!==n||this.experimentCookie.addTreatment({experimentId:o,variantId:s})):B.error(`Treatment ${o}.${s} did not activate successfully`,{treatment:i})})}wasExperimentConducted({experimentId:e,variantId:t}){if("0"===t)return!0;return!document.querySelector(`[data-experiment-control][data-experiment-id="${e}"]`)}};window.Experiments=$}();
